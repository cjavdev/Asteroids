<!DOCTYPE html>
<html>
  <head>
    <title>Asteroids</title>
    <script src="./js/jquery-1.9.1.js"></script>
    <script src="./js/keymaster.js"></script>
    <script src="./js/util.js"></script>
    <script src="./js/moving_object.js"></script>
    <script src="./js/asteroid.js"></script>
    <script src="./js/bullet.js"></script>
    <script src="./js/ship.js"></script>
    <script src="./js/game.js"></script>

    <style type="text/css" media="screen">
      body {
        background-color: black;
      }
      canvas {
        border: 1px dashed white;
      }
    </style>
    <script>
      $(function () {
        var canvas = document.getElementById('space'),
          context = canvas.getContext("2d");

        canvas.width = $(window).width();
        canvas.height = $(window).height();

        $(window).resize(function () {
          canvas.width = $(window).width();
          canvas.height = $(window).height();
          console.log("resizing" + canvas);
        });

        var game = new AG.Game(context);

        key('left', function () {
          game.ship.power(-1, 0);
        });
        key('right', function () {
          game.ship.power(1, 0);
        });
        key('up', function () {
          game.ship.power(0, -1);
        });
        key('down', function () {
          game.ship.power(0, 1);
        });
        key('space', function () {
          game.ship.fireBullet(game);
        });

        game.start();
      });

    </script>
  </head>
  <body>
    <canvas id="space" style="width: 800px; height: 500px;"></canvas>
  </body>
</html>
